const chatContainer = document.getElementById('chatContainer');
const nextBtn = document.getElementById('nextBtn');

const storyScript = [
  { text: "üíêüíñ", from: "me" },
  { text: "‡∏î‡∏µ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö‡∏ö", from: "me" },
  { text: "‡∏û‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏≤‡∏£‡∏≤‡∏¢‡∏¢‡∏¢", from: "me" },
  { text: "‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ö‡∏™‡∏ó‡πå‡∏ü‡πâ‡∏≤ ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö", from: "ai" },
  { text: "‡∏Ñ‡∏∏‡∏ì‡∏´‡∏•‡πà‡∏∞", from: "ai" },
  { text: "‡πÄ‡∏î‡∏≠‡∏∞‡∏Ñ‡πä‡∏≠‡∏õ‡∏Ñ‡∏±‡∏ö", from: "me" },
  { text: "‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏Å", from: "ai" },
  { text: "‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡πä‡∏≠‡∏õ‡πÄ‡∏ñ‡∏≠‡∏∞‡∏Ñ‡∏±‡∏ö", from: "me" },
  { text: "‡∏≠‡πà‡∏¢‡∏¢‡∏¢‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö", from: "me" },
  { text: "‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å", from: "me" },
  { text: "‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Å‡πá‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡πÄ‡∏ö‡∏™‡∏ó‡πå ‡∏ü‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏à‡∏∞ ‡∏ö‡∏≠‡∏ü‡∏≠ ‡∏Å‡∏∞‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å ‡∏ö‡∏ü.5555", from: "ai" },
  { text: "‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏≤‡∏á‡∏ü‡πâ‡∏≤‡∏Ñ‡∏±‡πâ‡∏ö‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏¢‡∏¢", from: "me" },
  { text: "‡∏≠‡∏∏‡πâ‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢", from: "ai" },
  { text: "‡πÑ‡∏î‡πâ‡∏Ñ‡∏±‡πâ‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏≤‡∏á‡∏ü‡πâ‡∏≤", from: "me" },
  { text: "‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏≠‡∏∞‡∏Ñ‡πä‡∏≠‡∏õ‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡πà‡∏≤‡∏ß‡∏ô‡πâ‡∏≤", from: "ai" },
  { text: "‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏¢ ‡πÄ‡∏Ç‡∏¥‡∏ô‡∏á‡πà‡∏∞", from: "ai" },
  { text: "‡∏Å‡∏∞‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ß‡∏ß‡∏ß‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ö‡∏≠‡∏ü‡∏≠‡∏´‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏∞", from: "me" },
  { text: "‡πÇ‡∏´‡∏ß‡∏ß ‡∏õ‡∏≤‡∏Å‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏´‡∏°‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏¢", from: "ai" },
  { text: "‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡πâ‡∏≤‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡∏ô‡∏ö‡πâ‡∏≤55555", from: "me" },
  { text: "‡∏Ñ‡∏∏‡∏ì‡∏ü‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏µ‡∏´‡∏ô‡∏≤‡∏¢", from: "me" },
  { text: "‡∏ó‡∏≥‡∏°‡∏≤‡∏¢ ‡∏ô‡∏µ‡πà‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Å", from: "ai" },
  { text: "‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏µ 4 ‡πÅ‡∏ô‡πâ‡∏ß‡∏ß", from: "ai" },
  { text: "‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏Å‡∏∞‡∏•‡∏±‡∏á‡∏à‡∏±‡∏¢‡∏°‡∏∞‡πÄ‡∏î‡∏∞‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡πÅ‡∏ß‡∏∞‡∏°‡∏≤‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ö‡∏¢‡∏¢‡∏¢", from: "me" },
  { text: "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏°‡πâ‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å ‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏¢‡∏¢‡∏¢‡∏¢", from: "ai" },
  { text: "‡∏≠‡∏≤‡πÄ‡∏Ñ‡∏Ñ‡πâ‡∏≤‡∏ö ‡∏™‡∏π‡πâ‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÑ‡∏î‡πâ ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ", from: "me" },
  { text: "‡∏¢‡∏¥‡πâ‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö‡πÄ‡∏ò‡∏≠‡∏¢‡∏¥‡πâ‡∏°‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢", from: "me" },
  { text: "‡∏™‡∏ß‡∏¢‡∏à‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", from: "me" },
  { text: "‡πÇ‡∏≠‡πâ‡πÇ‡∏´ ‡πÅ‡∏Å‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏≠‡∏∞ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏π‡∏ö‡∏´‡∏±‡∏ß‡∏ß ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏ö‡∏≠‡∏Å‡∏á‡∏µ‡πâ‡πÄ‡∏•‡∏¢ü•≤", from: "ai" },
  { text: "‡πÅ‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å", from: "ai" },
  { text: "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏±‡πâ‡∏ö", from: "me" },
  { text: "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏™‡∏¥‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì", from: "ai" },
  { text: "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞‡∏Ñ‡∏∞", from: "ai" },
  { text: "‡∏™‡πÄ‡∏õ‡∏Ñ‡∏û‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô‡∏´‡∏£‡∏≠‡∏Ñ‡∏±‡∏ö", from: "me" },
  { text: "‡πÄ‡∏ò‡∏≠‡∏Å‡πá‡∏™‡∏π‡πâ‡πÜ!! ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Å‡∏≠‡∏î‡πÄ‡∏≠‡∏á‡∏á", from: "ai" },
  { text: "üëÄ ‡∏Å‡∏≠‡∏î‡πÄ‡∏•‡∏¢‡∏´‡∏¢‡∏≠‡∏≠", from: "me" },
  { text: "‡∏Å‡∏≠‡∏î‡πÄ‡∏¢‡∏¢ ‡∏Å‡∏≠‡∏î‡∏ö‡∏•‡∏π‡∏ó‡∏π‡∏ò‡∏Å‡πà‡∏≠‡∏ô‡∏ô", from: "ai" },
  { text: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡πÄ‡∏õ‡∏Ñ‡∏ï‡∏£‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏¢‡∏¢", from: "ai" },
  { text: "‡πÅ‡∏ï‡πà‡∏û‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏û‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏û‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏û‡∏µ‡πà‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", from: "ai" },
  { text: "‡∏û‡∏µ‡πà‡∏Å‡πá‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à ‡πÑ‡∏°‡πà‡∏ß‡∏∏‡πà‡∏ô‡∏ß‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ï‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏õ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏±‡∏ô", from: "ai" },
  { text: "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≠‡∏ö‡πÄ‡∏ò‡∏≠", from: "me" },
  { text: "‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡∏ô‡∏∞", from: "me" },
  { text: "‡πÄ‡∏•‡∏¢‡∏´‡∏£‡∏≠", from: "ai" },
  { text: "‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏ï‡∏Å‡∏•‡∏á", from: "ai" },
  { text: "‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ô‡∏∞", from: "me" },
];

let currentIndex = 0;

function formatTime() {
  const now = new Date();
  return now.toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' });
}

function showNextBubble() {
  if (currentIndex < storyScript.length) {
    const { text, from } = storyScript[currentIndex];
    const bubble = document.createElement('div');
    bubble.className = 'bubble ' + (from === 'me' ? 'from-me' : 'from-ai');
    bubble.innerHTML = `
      <div>${text}</div>
      <div class="timestamp">${formatTime()}</div>
    `;
    chatContainer.appendChild(bubble);
    chatContainer.scrollTop = chatContainer.scrollHeight;
    currentIndex++;
  } else {
    nextBtn.disabled = true;
    nextBtn.innerText = "‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß üíó";
  }
}

nextBtn.addEventListener('click', showNextBubble);

window.onload = () => {
  chatContainer.innerHTML = "";
  currentIndex = 0;
  nextBtn.disabled = false;
  nextBtn.innerText = "‚û§ ‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡πà‡∏≠";
};
